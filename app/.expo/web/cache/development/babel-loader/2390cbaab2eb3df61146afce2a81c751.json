{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { HeaderComponent } from \"../../components/Header\";\nimport { ComeBackComponent } from \"../../components/ComeBack\";\nimport MenuNavigation from \"../../common/constants/navigation\";\nimport { SelectComponent } from \"../../components/Select\";\nimport { TitleComponent } from \"../../components/Title\";\nimport { InputFieldComponent } from \"../../components/InputField\";\nimport * as S from \"./styles\";\nimport { useFormReport } from \"../../hooks/useFormReport\";\nimport { connectApi } from \"../../common/services/ConnectApi\";\nimport { FormReportActions } from \"../../contexts/FormReport\";\nimport useUserFiltered from \"../../hooks/useUserFiltered\";\nimport { Checkbox } from \"react-native-paper\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { ButtonComponent } from \"../../components/Button\";\nimport { createUserWithEmailAndPassword, getAuth } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { firebaseConfig } from \"../../config/firebase\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { ModalComponent } from \"../../components/Modal\";\nimport { DefaultContentModalComponent } from \"../../components/Modal/Default\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport function MultiplicationCelula() {\n  var _renderPastor$;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      celulas = _useState2[0],\n      setCelulas = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      celulasSelected = _useState4[0],\n      setCelulaSelected = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      listMembersCelula = _useState6[0],\n      setListMembersCelula = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      listCelula = _useState8[0],\n      setListCelula = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      memberSelected = _useState10[0],\n      setMemberSelected = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      newCelula = _useState12[0],\n      setNewCelula = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      membersChecked = _useState14[0],\n      setMembersChecked = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      membersUncheck = _useState16[0],\n      setMembersUncheck = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      leaderCelula = _useState18[0],\n      setLeaderCelula = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      successModal = _useState20[0],\n      setSuccessModal = _useState20[1];\n\n  var _useState21 = useState(),\n      _useState22 = _slicedToArray(_useState21, 2),\n      newLeaderSelected = _useState22[0],\n      setNewLeaderSelected = _useState22[1];\n\n  var _useFormReport = useFormReport(),\n      state = _useFormReport.state,\n      dispatch = _useFormReport.dispatch;\n\n  var _useUserFiltered = useUserFiltered(),\n      user = _useUserFiltered.user,\n      loading = _useUserFiltered.loading;\n\n  var navigation = useNavigation();\n  var userInfo = user && user[0][1];\n  var whatOffice = userInfo && userInfo.cargo;\n  useEffect(function () {\n    if (whatOffice !== \"lider\") {\n      var getCelulas = function () {\n        var _ref = _asyncToGenerator(function* () {\n          var response = yield connectApi.get(\"/celulas.json\");\n          setCelulas(Object.values(response.data));\n          setLeaderCelula(Object.entries(response.data));\n        });\n\n        return function getCelulas() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      getCelulas();\n    }\n  }, []);\n\n  var handleRedeChange = function handleRedeChange(value) {\n    dispatch({\n      type: FormReportActions.setRedeSelect,\n      payload: value\n    });\n    dispatch({\n      type: FormReportActions.setDiscipuladoSelect,\n      payload: \"Selecione\"\n    });\n    dispatch({\n      type: FormReportActions.setCelulaSelect,\n      payload: \"Selecione\"\n    });\n    setMemberSelected(\"Selecione*\");\n  };\n\n  var handleDiscipuladoChange = function handleDiscipuladoChange(value) {\n    dispatch({\n      type: FormReportActions.setDiscipuladoSelect,\n      payload: value\n    });\n    dispatch({\n      type: FormReportActions.setCelulaSelect,\n      payload: \"Selecione\"\n    });\n    setMemberSelected(\"Selecione*\");\n  };\n\n  var handleCelulaChange = function handleCelulaChange(value) {\n    dispatch({\n      type: FormReportActions.setCelulaSelect,\n      payload: value\n    });\n    setMemberSelected(\"Selecione*\");\n  };\n\n  var handleMember = function handleMember(value) {\n    setMemberSelected(value);\n  };\n\n  var selectedOptionCelula = function selectedOptionCelula(value) {\n    setCelulaSelected(value);\n    dispatch({\n      type: FormReportActions.setTextSelectCelula,\n      payload: value\n    });\n  };\n\n  var redes = celulas.map(function (item) {\n    return item.rede;\n  });\n  var redesUnicas = redes.filter(function (este, i) {\n    return redes.indexOf(este) === i && este;\n  });\n  var mapRedesUnicas = redesUnicas.map(function (item) {\n    return {\n      value: item\n    };\n  });\n  var filtrandoRedes = celulas.filter(function (item) {\n    return item.rede === state.redeSelect;\n  });\n  var discipulado = filtrandoRedes.map(function (item) {\n    return item.discipulador;\n  });\n  var discipuladossUnicos = discipulado.filter(function (este, i) {\n    return discipulado.indexOf(este) === i;\n  });\n  var mapDiscipuladosUnicos = discipuladossUnicos.map(function (item) {\n    return {\n      value: item\n    };\n  });\n  var filtrandoDiscipulado = celulas.filter(function (item) {\n    return item.discipulador === state.discipuladoSelect && item.rede === state.redeSelect;\n  });\n  var celulaAdm = filtrandoDiscipulado.map(function (item) {\n    return {\n      value: item.numero_celula + \" - \" + item.lider\n    };\n  });\n  useEffect(function () {\n    var _listMembers$;\n\n    var listMembers = Object.values(celulas).filter(function (item) {\n      return celulasSelected === item.numero_celula + \" - \" + item.lider;\n    });\n    setListCelula((_listMembers$ = listMembers[0]) == null ? void 0 : _listMembers$.membros);\n  }, [celulasSelected]);\n  useEffect(function () {\n    var newArraytoSelectCelula = listCelula && Object.values(listCelula).map(function (item) {\n      return _objectSpread(_objectSpread({}, item), {}, {\n        value: item.nome,\n        checked: false\n      });\n    });\n    setListMembersCelula(newArraytoSelectCelula);\n  }, [listCelula]);\n\n  var memberMultiply = function memberMultiply(member) {\n    var newMember = _objectSpread(_objectSpread({}, member), {}, {\n      checked: !(member != null && member.checked)\n    });\n\n    var transformClick = Object.values(listMembersCelula).filter(function (item) {\n      return item.nome !== member.nome;\n    });\n    setListMembersCelula([].concat(_toConsumableArray(transformClick), [newMember]));\n  };\n\n  useEffect(function () {\n    var filterCheckedMembers = listMembersCelula && listMembersCelula.filter(function (item) {\n      return item.checked === true;\n    });\n    var filterUncheckedMembers = listMembersCelula && listMembersCelula.filter(function (item) {\n      return item.checked === false;\n    });\n    setMembersChecked(filterCheckedMembers);\n    setMembersUncheck(filterUncheckedMembers);\n  }, [listMembersCelula, memberSelected]);\n\n  function compared(a, b) {\n    if (a.nome < b.nome) return -1;\n    if (a.nome > b.nome) return 1;\n    return 0;\n  }\n\n  var app = initializeApp(firebaseConfig);\n  var auth = getAuth(app);\n\n  var cadastro = function cadastro() {\n    var objectNewLider = Object.values(listMembersCelula).filter(function (item) {\n      return item.nome === memberSelected;\n    });\n    var str;\n    str = memberSelected;\n    str = memberSelected.replace(/[ÀÁÂÃÄÅ]/g, \"A\");\n    str = memberSelected.replace(/[àáâãäå]/g, \"a\");\n    str = memberSelected.replace(/[ÈÉÊË]/g, \"E\");\n    str = memberSelected.replace(/\\s/g, '');\n    memberSelected.replace(/[^a-z0-9]/gi, '');\n    var email = str + \"@aguaviva.com.br\";\n    var password = str + \"123456\";\n    createUserWithEmailAndPassword(auth, email, password);\n    credentialsPost(objectNewLider, email, password);\n    newCelulaMultiplied();\n    removeMembersNewCelula();\n  };\n\n  var credentialsPost = function credentialsPost(objectNewLider, email, password) {\n    try {\n      connectApi.post(\"/users.json\", _objectSpread(_objectSpread({}, objectNewLider[0]), {}, {\n        cargo: \"lider\",\n        discipulado: state.discipuladoSelect,\n        email: email,\n        numero_celula: newCelula,\n        rede: state.redeSelect,\n        senha: password\n      }));\n    } catch (err) {\n      throw new Error(\"Ops, algo deu errado!\");\n    }\n  };\n\n  var celulaFilter = state.celulaSelect.split('- ')[1];\n  var numberCelulaFilter = state.celulaSelect.split(' - ')[0];\n  var renderOptionsLeader = listMembersCelula && listMembersCelula.filter(function (item) {\n    return item.nome !== celulaFilter;\n  });\n  var renderPastor = celulas && celulas.filter(function (item) {\n    return item.rede === state.redeSelect;\n  });\n  var pastorCelula = (_renderPastor$ = renderPastor[0]) == null ? void 0 : _renderPastor$.pastor;\n  var renderLeader = leaderCelula.filter(function (item) {\n    return item[1].lider === celulaFilter;\n  });\n  var idCelula = renderLeader && renderLeader.length && renderLeader[0][0];\n\n  var newCelulaMultiplied = function newCelulaMultiplied() {\n    try {\n      connectApi.post(\"/celulas.json\", {\n        lider: memberSelected,\n        numero_celula: newCelula,\n        discipulador: state.discipuladoSelect,\n        membros: membersChecked,\n        rede: state.redeSelect\n      }).then(function () {\n        return setSuccessModal(true);\n      });\n    } catch (err) {}\n  };\n\n  var validMembers = listMembersCelula && listMembersCelula.filter(function (item) {\n    return item.checked;\n  });\n  var validFormWithMembers = newCelula && memberSelected && validMembers.length !== 0;\n\n  var removeMembersNewCelula = function removeMembersNewCelula() {\n    try {\n      connectApi.put(\"/celulas/\" + idCelula + \".json\", {\n        lider: celulaFilter,\n        numero_celula: numberCelulaFilter,\n        pastor: pastorCelula,\n        discipulador: state.discipuladoSelect,\n        membros: membersUncheck,\n        rede: state.redeSelect\n      });\n    } catch (err) {\n      alert('Erro ao editar a celula');\n    }\n  };\n\n  useEffect(function () {\n    var memberDisabled = listMembersCelula && listMembersCelula.map(function (member) {\n      if (member.checked && memberSelected === member.nome) {\n        return _objectSpread(_objectSpread({}, member), {}, {\n          checked: member.checked\n        });\n      }\n\n      return _objectSpread(_objectSpread({}, member), {}, {\n        checked: false\n      });\n    });\n    setListMembersCelula(memberDisabled && memberDisabled);\n    setNewLeaderSelected(listMembersCelula && listMembersCelula.filter(function (item) {\n      return item.nome === memberSelected;\n    }));\n  }, [memberSelected]);\n  useEffect(function () {\n    if (newLeaderSelected && newLeaderSelected.length > 0) {\n      if (!newLeaderSelected[0].checked) {\n        return memberMultiply(newLeaderSelected[0]);\n      }\n    }\n  }, [newLeaderSelected]);\n  return _jsxs(_Fragment, {\n    children: [_jsx(HeaderComponent, {\n      children: _jsxs(S.ComeBack, {\n        children: [_jsx(ComeBackComponent, {}), _jsx(S.TitlePage, {\n          children: MenuNavigation.MULTIPLICATION_CELULA\n        })]\n      })\n    }), _jsx(ScrollView, {\n      children: _jsxs(S.Content, {\n        children: [_jsxs(S.Grid, {\n          children: [_jsx(TitleComponent, {\n            title: \"Rede*\",\n            small: true,\n            primary: true\n          }), _jsxs(S.ContentC, {\n            children: [_jsx(S.IconC, {\n              name: \"vector-square\"\n            }), _jsx(SelectComponent, {\n              onChange: handleRedeChange,\n              labelSelect: state.redeSelect,\n              dataOptions: mapRedesUnicas,\n              selectedOption: handleRedeChange,\n              width: \"300\"\n            })]\n          })]\n        }), _jsxs(S.Grid, {\n          children: [_jsx(TitleComponent, {\n            title: \"Discipulado*\",\n            small: true,\n            primary: true\n          }), _jsxs(S.ContentC, {\n            children: [_jsx(S.IconC, {\n              name: \"network-wired\"\n            }), _jsx(SelectComponent, {\n              onChange: handleDiscipuladoChange,\n              labelSelect: state.discipuladoSelect,\n              dataOptions: state.redeSelect && mapDiscipuladosUnicos,\n              selectedOption: handleDiscipuladoChange,\n              width: \"300\",\n              disabled: state.redeSelect === \"Selecione\" ? true : false\n            })]\n          })]\n        }), _jsxs(S.Grid, {\n          children: [_jsx(TitleComponent, {\n            title: \"Celula*\",\n            small: true,\n            primary: true\n          }), _jsxs(S.ContentC, {\n            children: [_jsx(S.IconC, {\n              name: \"user-friends\"\n            }), _jsx(SelectComponent, {\n              onChange: handleCelulaChange,\n              labelSelect: state.celulaSelect,\n              dataOptions: celulaAdm,\n              selectedOption: selectedOptionCelula,\n              width: \"300\",\n              disabled: state.discipuladoSelect === \"Selecione\" ? true : false\n            })]\n          })]\n        }), _jsxs(S.GridForm, {\n          children: [_jsxs(S.GridItem, {\n            children: [_jsx(TitleComponent, {\n              title: \"C\\xE9lula nova*:\",\n              small: true,\n              primary: true\n            }), _jsx(InputFieldComponent, {\n              primary: true,\n              value: newCelula != null ? newCelula : \"\",\n              placeholder: \"\",\n              onChangeText: function onChangeText(value) {\n                return setNewCelula(value);\n              }\n            })]\n          }), _jsxs(S.GridItem, {\n            children: [_jsx(TitleComponent, {\n              title: \"Novo l\\xEDder*:\",\n              small: true,\n              primary: true\n            }), _jsx(SelectComponent, {\n              onChange: handleMember,\n              labelSelect: memberSelected != null ? memberSelected : \"Selecione*\",\n              dataOptions: renderOptionsLeader != null ? renderOptionsLeader : [],\n              selectedOption: handleMember,\n              disabled: state.celulaSelect === \"Selecione\" ? true : false\n            })]\n          })]\n        }), _jsx(TitleComponent, {\n          title: \"Membros*:\",\n          small: true,\n          primary: true,\n          uppercase: true,\n          blue: true,\n          weight: true\n        }), _jsx(S.labelParagraph, {\n          children: _jsx(S.Paragraph, {\n            children: \"Selecione os membros que v\\xE3o para a nova c\\xE9lula\"\n          })\n        }), _jsx(S.Grid, {\n          children: listMembersCelula && listMembersCelula.length > 0 && Object.values(listMembersCelula).sort(compared).map(function (item, index) {\n            return _jsx(\"div\", {\n              children: _jsx(Checkbox.Item, {\n                label: item.nome,\n                color: \"red\",\n                status: item.checked || memberSelected === item.nome ? \"checked\" : \"unchecked\",\n                disabled: state.celulaSelect.includes(item.nome) || memberSelected === item.nome,\n                onPress: function onPress() {\n                  memberMultiply(item);\n                }\n              })\n            }, index);\n          })\n        }), _jsx(ButtonComponent, {\n          title: \"Multiplicar\",\n          onPress: cadastro,\n          width: \"100%\",\n          disabled: !validFormWithMembers\n        })]\n      })\n    }), _jsx(ModalComponent, {\n      isVisible: successModal,\n      onBackdropPress: function onBackdropPress() {\n        setSuccessModal(false);\n        navigation.navigate(\"Multiplication\");\n      },\n      children: _jsx(DefaultContentModalComponent, {\n        type: \"multiplication\"\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","HeaderComponent","ComeBackComponent","MenuNavigation","SelectComponent","TitleComponent","InputFieldComponent","S","useFormReport","connectApi","FormReportActions","useUserFiltered","Checkbox","ButtonComponent","createUserWithEmailAndPassword","getAuth","initializeApp","firebaseConfig","useNavigation","ModalComponent","DefaultContentModalComponent","MultiplicationCelula","celulas","setCelulas","celulasSelected","setCelulaSelected","listMembersCelula","setListMembersCelula","listCelula","setListCelula","memberSelected","setMemberSelected","newCelula","setNewCelula","membersChecked","setMembersChecked","membersUncheck","setMembersUncheck","leaderCelula","setLeaderCelula","successModal","setSuccessModal","newLeaderSelected","setNewLeaderSelected","state","dispatch","user","loading","navigation","userInfo","whatOffice","cargo","getCelulas","response","get","Object","values","data","entries","handleRedeChange","value","type","setRedeSelect","payload","setDiscipuladoSelect","setCelulaSelect","handleDiscipuladoChange","handleCelulaChange","handleMember","selectedOptionCelula","setTextSelectCelula","redes","map","item","rede","redesUnicas","filter","este","i","indexOf","mapRedesUnicas","filtrandoRedes","redeSelect","discipulado","discipulador","discipuladossUnicos","mapDiscipuladosUnicos","filtrandoDiscipulado","discipuladoSelect","celulaAdm","numero_celula","lider","listMembers","membros","newArraytoSelectCelula","nome","checked","memberMultiply","member","newMember","transformClick","filterCheckedMembers","filterUncheckedMembers","compared","a","b","app","auth","cadastro","objectNewLider","str","replace","email","password","credentialsPost","newCelulaMultiplied","removeMembersNewCelula","post","senha","err","Error","celulaFilter","celulaSelect","split","numberCelulaFilter","renderOptionsLeader","renderPastor","pastorCelula","pastor","renderLeader","idCelula","length","then","validMembers","validFormWithMembers","put","alert","memberDisabled","MULTIPLICATION_CELULA","sort","index","includes","navigate"],"sources":["C:/Users/felip/AppIbavNovo/app/src/screens/MutiplicationCelula/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { HeaderComponent } from \"../../components/Header\";\r\nimport { ComeBackComponent } from \"../../components/ComeBack\";\r\nimport MenuNavigation from \"../../common/constants/navigation\";\r\nimport { SelectComponent } from \"../../components/Select\";\r\nimport { TitleComponent } from \"../../components/Title\";\r\nimport { InputFieldComponent } from \"../../components/InputField\";\r\nimport * as S from \"./styles\";\r\nimport { TextSelect } from \"../../components/Date/styles\";\r\nimport { useFormReport } from \"../../hooks/useFormReport\";\r\nimport { connectApi } from \"../../common/services/ConnectApi\";\r\nimport { FormReportActions } from \"../../contexts/FormReport\";\r\nimport useUserFiltered from \"../../hooks/useUserFiltered\";\r\nimport { Checkbox } from \"react-native-paper\";\r\nimport { ScrollView } from \"react-native\";\r\nimport { ButtonComponent } from \"../../components/Button\";\r\nimport { createUserWithEmailAndPassword, getAuth } from \"firebase/auth\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { firebaseConfig } from \"../../config/firebase\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport { IPropsAppStack } from \"../../routes/AppStack/types\";\r\nimport { ModalComponent } from \"../../components/Modal\";\r\nimport { DefaultContentModalComponent } from \"../../components/Modal/Default\";\r\n\r\nexport function MultiplicationCelula() {\r\n  const [celulas, setCelulas] = useState<any>([]);\r\n  const [celulasSelected, setCelulaSelected] = useState<any>();\r\n  const [listMembersCelula, setListMembersCelula] = useState<any>([]);\r\n  const [listCelula, setListCelula] = useState<any>([]);\r\n  const [memberSelected, setMemberSelected] = useState<any>();\r\n  const [newCelula, setNewCelula] = useState<any>();\r\n  const [membersChecked, setMembersChecked] = useState([])\r\n  const [membersUncheck, setMembersUncheck] = useState([])\r\n  const [leaderCelula, setLeaderCelula] = useState<any>([])\r\n  const [successModal, setSuccessModal] = useState(false);\r\n  const [newLeaderSelected, setNewLeaderSelected] = useState<any>()\r\n\r\n  const { state, dispatch } = useFormReport();\r\n  const { user, loading } = useUserFiltered();\r\n  const navigation = useNavigation<IPropsAppStack>();\r\n\r\n\r\n  const userInfo = user && user[0][1];\r\n  const whatOffice = userInfo && userInfo.cargo;\r\n\r\n  useEffect(() => {\r\n    if (whatOffice !== \"lider\") {\r\n      const getCelulas = async () => {\r\n        const response = await connectApi.get(\"/celulas.json\");\r\n\r\n        setCelulas(Object.values(response.data));\r\n        setLeaderCelula(Object.entries(response.data))\r\n      };\r\n      getCelulas();\r\n    }\r\n  }, []);\r\n\r\n  const handleRedeChange = (value: string) => {\r\n    dispatch({\r\n      type: FormReportActions.setRedeSelect,\r\n      payload: value,\r\n    });\r\n    dispatch({\r\n      type: FormReportActions.setDiscipuladoSelect,\r\n      payload: \"Selecione\",\r\n    });\r\n    dispatch({\r\n      type: FormReportActions.setCelulaSelect,\r\n      payload: \"Selecione\",\r\n    });\r\n    setMemberSelected(\"Selecione*\")\r\n  };\r\n\r\n  const handleDiscipuladoChange = (value: string) => {\r\n    dispatch({\r\n      type: FormReportActions.setDiscipuladoSelect,\r\n      payload: value,\r\n    });\r\n    dispatch({\r\n      type: FormReportActions.setCelulaSelect,\r\n      payload: \"Selecione\",\r\n    });\r\n    setMemberSelected(\"Selecione*\")\r\n  };\r\n\r\n  const handleCelulaChange = (value: string) => {\r\n    dispatch({\r\n      type: FormReportActions.setCelulaSelect,\r\n      payload: value,\r\n    });\r\n    setMemberSelected(\"Selecione*\")\r\n  };\r\n\r\n  const handleMember = (value: string) => {\r\n    setMemberSelected(value);\r\n  };\r\n\r\n  const selectedOptionCelula = (value: string) => {\r\n    setCelulaSelected(value);\r\n    dispatch({\r\n      type: FormReportActions.setTextSelectCelula,\r\n      payload: value,\r\n    });\r\n  };\r\n\r\n  // tratativas para o usuário administrador\r\n  const redes = celulas.map((item: any) => item.rede);\r\n  const redesUnicas = redes.filter(function (este: any, i: any) {\r\n    return redes.indexOf(este) === i && este;\r\n  });\r\n\r\n  const mapRedesUnicas = redesUnicas.map((item: any) => {\r\n    return {\r\n      value: item,\r\n    };\r\n  });\r\n\r\n  const filtrandoRedes = celulas.filter((item: any) => {\r\n    return item.rede === state.redeSelect;\r\n  });\r\n\r\n  const discipulado = filtrandoRedes.map((item: any) => item.discipulador);\r\n\r\n  const discipuladossUnicos = discipulado.filter(function (este: any, i: any) {\r\n    return discipulado.indexOf(este) === i;\r\n  });\r\n\r\n  const mapDiscipuladosUnicos = discipuladossUnicos.map((item: any) => {\r\n    return {\r\n      value: item,\r\n    };\r\n  });\r\n\r\n  const filtrandoDiscipulado = celulas.filter((item: any) => {\r\n    return (\r\n      item.discipulador === state.discipuladoSelect &&\r\n      item.rede === state.redeSelect\r\n    );\r\n  });\r\n  const celulaAdm = filtrandoDiscipulado.map((item: any) => {\r\n    return {\r\n      value: `${item.numero_celula} - ${item.lider}`,\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    const listMembers: any = Object.values(celulas).filter((item: any) => {\r\n      return celulasSelected === `${item.numero_celula} - ${item.lider}`;\r\n    });\r\n    setListCelula(listMembers[0]?.membros);\r\n  }, [celulasSelected]);\r\n\r\n  useEffect(() => {\r\n    const newArraytoSelectCelula =\r\n      listCelula &&\r\n      Object.values(listCelula).map((item: any) => {\r\n        return { ...item, value: item.nome, checked: false };\r\n      });\r\n    setListMembersCelula(newArraytoSelectCelula);\r\n  }, [listCelula]);\r\n\r\n  const memberMultiply = (member: any) => {\r\n    const newMember = { ...member, checked: !member?.checked };\r\n    const transformClick = Object.values(listMembersCelula).filter(\r\n      (item: any) => {\r\n        return item.nome !== member.nome;\r\n      }\r\n    );\r\n    setListMembersCelula([...transformClick, newMember]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const filterCheckedMembers = listMembersCelula && listMembersCelula.filter((item: any) => item.checked === true)\r\n    const filterUncheckedMembers = listMembersCelula && listMembersCelula.filter((item: any) => item.checked === false)\r\n    setMembersChecked(filterCheckedMembers)\r\n    setMembersUncheck(filterUncheckedMembers)\r\n  }, [listMembersCelula, memberSelected])\r\n\r\n  function compared(a: any, b: any) {\r\n    if (a.nome < b.nome) return -1;\r\n    if (a.nome > b.nome) return 1;\r\n    return 0;\r\n  }\r\n  //Object.values(listMembersCelula).sort(compared);\r\n  const app = initializeApp(firebaseConfig);\r\n  const auth = getAuth(app);\r\n\r\n  const cadastro = () => {\r\n    const objectNewLider = Object.values(listMembersCelula).filter(\r\n      (item: any) => {\r\n        return item.nome === memberSelected;\r\n      }\r\n    );\r\n    let str\r\n    str = memberSelected;\r\n    str = memberSelected.replace(/[ÀÁÂÃÄÅ]/g, \"A\");\r\n    str = memberSelected.replace(/[àáâãäå]/g, \"a\");\r\n    str = memberSelected.replace(/[ÈÉÊË]/g, \"E\");\r\n    str = memberSelected.replace(/\\s/g, '');\r\n    memberSelected.replace(/[^a-z0-9]/gi, '');\r\n    const email = `${str}@aguaviva.com.br`\r\n    const password = `${str}123456`\r\n    createUserWithEmailAndPassword(auth, email, password);\r\n    credentialsPost(objectNewLider, email, password);\r\n    newCelulaMultiplied();\r\n    removeMembersNewCelula();\r\n  };\r\n\r\n\r\n  const credentialsPost = (objectNewLider: any, email: any, password: any) => {\r\n    try {\r\n      connectApi\r\n        .post(\"/users.json\", {\r\n          ...objectNewLider[0],\r\n          cargo: \"lider\",\r\n          discipulado: state.discipuladoSelect,\r\n          email,\r\n          numero_celula: newCelula,\r\n          rede: state.redeSelect,\r\n          senha: password,\r\n        })\r\n    }\r\n    catch (err) {\r\n      throw new Error(\"Ops, algo deu errado!\");\r\n    }\r\n  }\r\n\r\n  const celulaFilter = state.celulaSelect.split('- ')[1]\r\n  const numberCelulaFilter = state.celulaSelect.split(' - ')[0]\r\n  const renderOptionsLeader = listMembersCelula && listMembersCelula.filter((item: any) => item.nome !== celulaFilter)\r\n  const renderPastor = celulas && celulas.filter((item: any) => item.rede === state.redeSelect)\r\n  const pastorCelula = renderPastor[0]?.pastor\r\n  const renderLeader = leaderCelula.filter((item: any) => item[1].lider === celulaFilter)\r\n  const idCelula = renderLeader && renderLeader.length && renderLeader[0][0]\r\n\r\n  const newCelulaMultiplied = () => {\r\n    try {\r\n      connectApi.post(\"/celulas.json\", {\r\n        lider: memberSelected,\r\n        numero_celula: newCelula,\r\n        discipulador: state.discipuladoSelect,\r\n        membros: membersChecked,\r\n        rede: state.redeSelect\r\n      })\r\n        .then(() => setSuccessModal(true));\r\n    } catch (err) {\r\n\r\n    }\r\n  }\r\n\r\n  const validMembers = listMembersCelula && listMembersCelula.filter((item: any) => item.checked)\r\n  const validFormWithMembers = newCelula && memberSelected && validMembers.length !== 0\r\n  // const validForm = newCelula && memberSelected\r\n\r\n  const removeMembersNewCelula = () => {\r\n    try {\r\n      connectApi.put(`/celulas/${idCelula}.json`, {\r\n        lider: celulaFilter,\r\n        numero_celula: numberCelulaFilter,\r\n        pastor: pastorCelula,\r\n        discipulador: state.discipuladoSelect,\r\n        membros: membersUncheck,\r\n        rede: state.redeSelect\r\n      })\r\n    } catch (err) {\r\n      alert('Erro ao editar a celula')\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const memberDisabled = listMembersCelula && listMembersCelula.map((member: any) => {\r\n      if (member.checked && memberSelected === member.nome) {\r\n        return {...member, checked: member.checked}\r\n      } return {...member, checked: false}\r\n    })\r\n    setListMembersCelula(memberDisabled && memberDisabled)\r\n    setNewLeaderSelected(listMembersCelula && listMembersCelula.filter((item: any) => item.nome === memberSelected))\r\n  }, [memberSelected])\r\n  \r\n  useEffect(() => {\r\n    if (newLeaderSelected && newLeaderSelected.length > 0) {\r\n        if(!newLeaderSelected[0].checked){\r\n          return memberMultiply(newLeaderSelected[0])\r\n        }\r\n      }\r\n  }, [newLeaderSelected])\r\n\r\n  return (\r\n    <>\r\n      <HeaderComponent>\r\n        <S.ComeBack>\r\n          <ComeBackComponent />\r\n          <S.TitlePage>{MenuNavigation.MULTIPLICATION_CELULA}</S.TitlePage>\r\n        </S.ComeBack>\r\n      </HeaderComponent>\r\n      <ScrollView>\r\n        <S.Content>\r\n          <S.Grid>\r\n            <TitleComponent title={`Rede*`} small primary />\r\n            <S.ContentC>\r\n              <S.IconC name=\"vector-square\" />\r\n              <SelectComponent\r\n                onChange={handleRedeChange}\r\n                labelSelect={state.redeSelect}\r\n                dataOptions={mapRedesUnicas}\r\n                selectedOption={handleRedeChange}\r\n                width=\"300\"\r\n              />\r\n            </S.ContentC>\r\n          </S.Grid>\r\n          <S.Grid>\r\n            <TitleComponent title={`Discipulado*`} small primary />\r\n            <S.ContentC>\r\n              <S.IconC name=\"network-wired\" />\r\n              <SelectComponent\r\n                onChange={handleDiscipuladoChange}\r\n                labelSelect={state.discipuladoSelect}\r\n                dataOptions={state.redeSelect && mapDiscipuladosUnicos}\r\n                selectedOption={handleDiscipuladoChange}\r\n                width=\"300\"\r\n                disabled={state.redeSelect === \"Selecione\" ? true : false}\r\n              />\r\n            </S.ContentC>\r\n          </S.Grid>\r\n          <S.Grid>\r\n            <TitleComponent title={`Celula*`} small primary />\r\n            <S.ContentC>\r\n              <S.IconC name=\"user-friends\" />\r\n              <SelectComponent\r\n                onChange={handleCelulaChange}\r\n                labelSelect={state.celulaSelect}\r\n                dataOptions={celulaAdm}\r\n                selectedOption={selectedOptionCelula}\r\n                width=\"300\"\r\n                disabled={state.discipuladoSelect === \"Selecione\" ? true : false}\r\n              />\r\n            </S.ContentC>\r\n          </S.Grid>\r\n          <S.GridForm>\r\n            <S.GridItem>\r\n              <TitleComponent title={`Célula nova*:`} small primary />\r\n              <InputFieldComponent\r\n                primary\r\n                value={newCelula ?? \"\"}\r\n                placeholder=\"\"\r\n                onChangeText={(value) => setNewCelula(value)}\r\n\r\n              />\r\n            </S.GridItem>\r\n            <S.GridItem>\r\n              <TitleComponent title={`Novo líder*:`} small primary />\r\n              <SelectComponent\r\n                onChange={handleMember}\r\n                labelSelect={memberSelected ?? \"Selecione*\"}\r\n                dataOptions={renderOptionsLeader ?? []}\r\n                selectedOption={handleMember}\r\n                disabled={state.celulaSelect === \"Selecione\" ? true : false}\r\n              />\r\n            </S.GridItem>\r\n          </S.GridForm>\r\n          <TitleComponent title={`Membros*:`} small primary uppercase blue weight />\r\n          <S.labelParagraph>\r\n            <S.Paragraph>\r\n              Selecione os membros que vão para a nova célula\r\n            </S.Paragraph>\r\n          </S.labelParagraph>\r\n          <S.Grid>\r\n            {listMembersCelula &&\r\n              listMembersCelula.length > 0 &&\r\n              Object.values(listMembersCelula)\r\n                .sort(compared)\r\n                .map((item: any, index: number) => {\r\n                  return (\r\n                    <div key={index}>\r\n                      <Checkbox.Item\r\n                        label={item.nome}\r\n                        color=\"red\"\r\n                        status={item.checked || memberSelected === item.nome ? \"checked\" : \"unchecked\"}\r\n                        disabled={state.celulaSelect.includes(item.nome) || memberSelected === item.nome}\r\n                        onPress={() => {\r\n                          memberMultiply(item);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n          </S.Grid>\r\n          <ButtonComponent title=\"Multiplicar\" onPress={cadastro} width=\"100%\" disabled={!validFormWithMembers} />\r\n        </S.Content>\r\n      </ScrollView>\r\n\r\n      <ModalComponent\r\n        isVisible={successModal}\r\n        onBackdropPress={() => {\r\n          setSuccessModal(false);\r\n          navigation.navigate(\"Multiplication\");\r\n        }\r\n        }\r\n      >\r\n        <DefaultContentModalComponent\r\n          type=\"multiplication\"\r\n        />\r\n      </ModalComponent>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}