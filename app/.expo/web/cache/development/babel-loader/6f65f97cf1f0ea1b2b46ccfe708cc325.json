{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect, createContext } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useFetch } from \"../../hooks/useFetch\";\nimport { GetStorage } from \"../../common/constants/storage\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var FilteredContext = createContext({});\nexport var FilteredProvider = function FilteredProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useFetch = useFetch(\"/users.json\"),\n      listUsers = _useFetch.data,\n      loading = _useFetch.isFetching;\n\n  var _useAuth = useAuth(),\n      userAuth = _useAuth.user;\n\n  useEffect(function () {\n    var emailAuth = userAuth == null ? void 0 : userAuth.email;\n    var filterUser = listUsers && listUsers.filter(function (item) {\n      return item[1].email === emailAuth;\n    });\n\n    if (filterUser) {\n      setUser(filterUser);\n      AsyncStorage.setItem(GetStorage.USER_FILTERED, JSON.stringify(filterUser));\n    }\n  }, [listUsers, loading, userAuth]);\n  return _jsx(FilteredContext.Provider, {\n    value: {\n      user: user,\n      loading: loading\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["useState","useEffect","createContext","AsyncStorage","useFetch","GetStorage","useAuth","FilteredContext","FilteredProvider","children","user","setUser","listUsers","data","loading","isFetching","userAuth","emailAuth","email","filterUser","filter","item","setItem","USER_FILTERED","JSON","stringify"],"sources":["C:/Users/felip/AppIbavNovo/app/src/contexts/Filtered/index.tsx"],"sourcesContent":["import { useState, useEffect, createContext } from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\nimport { GetStorage } from \"../../common/constants/storage\";\r\n\r\nimport { IContextProps, IProviderProps } from \"./types\";\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\n\r\nexport const FilteredContext = createContext<IContextProps>(\r\n  {} as IContextProps\r\n);\r\n\r\nexport const FilteredProvider = ({ children }: IProviderProps) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  const { data: listUsers, isFetching: loading } = useFetch(\"/users.json\");\r\n  const { user: userAuth } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const emailAuth = userAuth?.email;\r\n    const filterUser =\r\n      listUsers &&\r\n      listUsers.filter((item: any) => {\r\n        return item[1].email === emailAuth;\r\n      });\r\n\r\n    if (filterUser) {\r\n      setUser(filterUser);\r\n      AsyncStorage.setItem(\r\n        GetStorage.USER_FILTERED,\r\n        JSON.stringify(filterUser)\r\n      );\r\n    }\r\n  }, [listUsers, loading, userAuth]);\r\n\r\n  return (\r\n    <FilteredContext.Provider value={{ user, loading }}>\r\n      {children}\r\n    </FilteredContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,aAA9B,QAAmD,OAAnD;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AAEA,SAASC,QAAT;AACA,SAASC,UAAT;AAGA,SAASC,OAAT;;AAEA,OAAO,IAAMC,eAAe,GAAGL,aAAa,CAC1C,EAD0C,CAArC;AAIP,OAAO,IAAMM,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAkC;EAAA,IAA/BC,QAA+B,QAA/BA,QAA+B;;EAChE,gBAAwBT,QAAQ,CAAC,IAAD,CAAhC;EAAA;EAAA,IAAOU,IAAP;EAAA,IAAaC,OAAb;;EAEA,gBAAiDP,QAAQ,CAAC,aAAD,CAAzD;EAAA,IAAcQ,SAAd,aAAQC,IAAR;EAAA,IAAqCC,OAArC,aAAyBC,UAAzB;;EACA,eAA2BT,OAAO,EAAlC;EAAA,IAAcU,QAAd,YAAQN,IAAR;;EAEAT,SAAS,CAAC,YAAM;IACd,IAAMgB,SAAS,GAAGD,QAAH,oBAAGA,QAAQ,CAAEE,KAA5B;IACA,IAAMC,UAAU,GACdP,SAAS,IACTA,SAAS,CAACQ,MAAV,CAAiB,UAACC,IAAD,EAAe;MAC9B,OAAOA,IAAI,CAAC,CAAD,CAAJ,CAAQH,KAAR,KAAkBD,SAAzB;IACD,CAFD,CAFF;;IAMA,IAAIE,UAAJ,EAAgB;MACdR,OAAO,CAACQ,UAAD,CAAP;MACAhB,YAAY,CAACmB,OAAb,CACEjB,UAAU,CAACkB,aADb,EAEEC,IAAI,CAACC,SAAL,CAAeN,UAAf,CAFF;IAID;EACF,CAfQ,EAeN,CAACP,SAAD,EAAYE,OAAZ,EAAqBE,QAArB,CAfM,CAAT;EAiBA,OACE,KAAC,eAAD,CAAiB,QAAjB;IAA0B,KAAK,EAAE;MAAEN,IAAI,EAAJA,IAAF;MAAQI,OAAO,EAAPA;IAAR,CAAjC;IAAA,UACGL;EADH,EADF;AAKD,CA5BM"},"metadata":{},"sourceType":"module"}